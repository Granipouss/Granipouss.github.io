<script lang="tsx" setup>
import type { FunctionalComponent as FC } from 'vue'

const aboutMe = {
  firstname: 'Brendan',
  lastname: 'Daoud',
  job: 'Ing√©nieur Logiciel',
  description: `
    En tant qu'ing√©nieur, mon m√©tier est de r√©soudre des probl√®mes ;
    et l'informatique est mon principal outil pour cela. Lors de mon
    parcours professionnel, j'ai pu exp√©rimenter de nombreux
    environnements et de nombreuses organisations, avec comme fil
    rouge mon pragmatisme et ma capacit√© d'adaptation. Si j'ai choisi
    le JavaScript comme langage de pr√©dilection, je souhaite avant
    tout utiliser l'outil qui r√©pond le mieux aux probl√©matiques de
    chaque projet. Mon expertise n'est pas que technique, je
    suis √©galement tr√®s volontaire pour fluidifier le d√©veloppement
    et m'assurer de la pertinence fonctionnelle de la solution
    propos√©e.
  `,
}
const contacts = [
  {
    icon: 'call',
    name: 'T√©l√©phone',
    value: '06 65 48 26 07',
  },
  {
    icon: 'alternate_email',
    name: 'Mail',
    value: 'brendan.daoud@laposte.net',
    link: 'mailto:brendan.daoud@laposte.net',
  },
  {
    icon: 'language',
    name: 'Website',
    value: 'https://granipouss.github.io/about',
    link: 'https://granipouss.github.io/about',
  },
  {
    icon: 'home_pin',
    name: 'Adresse',
    value: 'Paris, France',
  },
]
const education = {
  year: 2018,
  name: 'ENSTA ParisTech',
  kind: "√âcole d'ing√©nieur",
  description: `
    Voie Signal, Informatique et Syst√®mes & Parcours
    Architecture et S√©curit√© des Syst√®mes d‚ÄôInformation - Profils Entrepreneuriat et Intrapreneuriat
  `,
}
const languages = [
  {
    flag: 'üá®üáµ',
    name: 'Fran√ßais',
    description: `Langue maternelle. Ecrit et parl√© depuis presque 30 ans.`,
  },
  {
    flag: 'üá¨üáß',
    name: 'Anglais',
    description: `Couramment √©crit et parl√©. J'ai effectu√© mon stage de fin d'√©tude √† Berlin et un emploi de 2 ans dans une √©quipe bilingue.`,
  },
]
const skills = [
  {
    name: 'Javascript/Typescript',
    description: `
      Expert. Je pratique le JS sous diverses formes depuis le d√©but
      de mon parcours de d√©veloppement. J'en ai fait mon langage
      de pr√©dilection. Lors de ma carri√®re, j'ai pu construire des
      applications dans les trois principaux frameworks que sont
      Angular, React et Vue ; j'ai √©galement construit des serveurs
      et des micro services en NodeJS. Je suis √©galement comp√©tent
      en Typescript.
    `,
  },
  {
    name: 'C++',
    description: `
      Le langage de script que j'utilise lorsque le projet a de
      fortes contraintes de performances.
    `,
  },
  {
    name: 'PHP',
    description: `
      Utilis√© sur d'anciens projets, j'ai travaill√© en PHP avec
      Code Igniter et un framework interne √† l'entreprise.
    `,
  },
  {
    name: 'Logiciels divers',
    description: `
      Microsoft Office (Excel, PowerPoint),
      Adobe Creative (Photoshop, Illsutrator), autres.
    `,
  },
]
const jobs = [
  {
    date: 'Depuis Juillet 2023',
    label: 'D√©veloppeur pour la start-up Capte',
    content: (
      <>
        <p>Start-up de 6 personnes proposant un assistant en ligne pour la cr√©ation de contenu vid√©o.</p>
        <p>
          J'ai travaill√© sur l'ensemble des composants de l'application : du rendu vid√©o sur le serveur, √† l'√©dition de
          la mise en page et des sous-titres c√¥t√© client. En plus des exigences techniques pour arriver √† une solution
          fonctionnelle et ergonomique, j'ai apport√© mon exp√©rience pour contribuer √† la structuration du travail et √†
          une gestion de projet.
        </p>
        <small>
          Utlisation de nombreuses librairies : ffmpeg, puppeteer, canvas, redis. Framework Vue 3 et FeatherJs.
        </small>
      </>
    ),
  },
  {
    date: 'De Janvier 2021 √† Juin 2023',
    label: 'Programmeur Outils pour Ubisoft France puis International',
    content: (
      <>
        <p>Au sein du Data Office de la plus grande entreprise de jeu vid√©o fran√ßais.</p>
        <p>
          J'ai particip√© √† la production d'outils pour aider les data analystes dans leur travail. Mon r√¥le √©tait
          principalement de produire des interfaces intuitives et d'anticiper les demandes de nos utilisateurs afin de
          r√©duire le support. Le mode de fonctionnement consistait √† produire des solutions sur mesure √† chaque demande,
          nous sommes pass√© √† la cr√©ation de produits disponibles pour toutes les productions de l'entreprise.
        </p>
        <small>Utilisation de Angular et de NestJs.</small>
      </>
    ),
  },
  {
    date: 'De Octobre 2018 √† D√©cembre 2021',
    label: 'Ing√©nieur Logiciel √† Theodo',
    content: (
      <>
        <p>Cabinet de conseil sp√©cialis√© en d√©veloppement informatique.</p>
        <p class="no-print">J'y ai effectu√© plusieurs missions chez divers clients, notamment :</p>
        <ul class="no-print">
          <li>
            AFP - Cr√©ation d'un fil d'information en temps r√©el √† destination des journalistes. J'√©tais le principal
            d√©veloppeur backend sur une architecture AWS consistu√©e de microservices.
          </li>
          <li>
            Vestiaire Collective - Conception d'un CRM permettant aux √©quipes d'envoyer des mails, sms et notifications
            personalis√©s √† leurs clients. Solution en React avec un serveur tirant parti de files d'attente pour g√©rer
            le volume de messages √† traiter.
          </li>
          <li>
            PMU - Refonte du formulaire d'inscription et passage d'un site en JQuery √† l'usage d'un framework moderne,
            React.
          </li>
        </ul>
      </>
    ),
  },
  {
    date: 'De Avril √† Septembre 2018',
    label: "Stage de fin d'√©tude chez CardMarket √† Berlin",
    content: (
      <>
        <p>Leader europ√©en de la vente de cartes √† jouer et √† collectionner.</p>
        <p class="no-print">
          En tant que d√©veloppeur front-end junior, j'ai d√©velopp√© des composants visuels, aid√© √† l'int√©gration de
          maquettes et particip√© √† une migration de nombreuses pages vers un nouveau design.
        </p>
        <small>Utilisation de PHP principalement</small>
      </>
    ),
  },
  {
    date: 'De Juin √† Ao√ªt 2017',
    label: 'Stage de Recherche au laboratoire U2IS de l‚ÄôENSTA',
    content: (
      <>
        <p>
          Projet de recherche sur les statistiques des images naturelles dans l‚ÄôUnit√© d‚ÄôInformatique et d‚ÄôIng√©nierie
          Syst√®me de l‚ÄôENSTA ParisTech
        </p>
        <p class="no-print">
          Mise en pratique de mes connaissances en traitement d'images, statistiques et calcul en parall√®le dans le but
          d'en apprendre plus sur les caract√©ristiques des images dites naturelles.
        </p>
        <small>Utilisation de Python et C++ pour le traitement d'un grand nombre d'images en parall√®le</small>
      </>
    ),
  },
  {
    date: 'De Mai √† Ao√ªt 2016',
    label: 'Stage de d√©veloppeur chez Soixante circuits',
    content: (
      <>
        <p>Agence parisienne de design interactif.</p>
        <ul class="no-print">
          <li>
            J'ai aid√© √† la cr√©ation des √©crans interactifs (jeux et publicit√©s) utilis√©s par Coca-Cola pour la
            couverture de l'UEFA en France et en Belgique.
            <small>
              (Video du projet{' '}
              <a href="https://vimeo.com/270059933" target="_blank">
                https://vimeo.com/270059933
              </a>
              )
            </small>
          </li>
          <li>J'ai √©galement cr√©√© un √©cran pour une exposition pour Tiffany & Co en Chine.</li>
        </ul>
        <small>D√©couverte de Vue.js</small>
      </>
    ),
  },
  {
    date: 'De 2015 √† 2017',
    label: "Site de MLVA pour l'Universit√© Paris Sud",
    content: (
      <>
        <p class="no-print">
          Avec un camarade de mon √©cole, j'ai recod√© un site participatif de s√©quen√ßage du g√©nome de microbes. Le site
          est √† la fois une base de donn√©es et un outil de visualisation utilis√© par des biologistes √† travers le monde.
          Le d√©veloppement a eu lieu sur 3 ans en relation constante avec les chercheurs de l'universit√© Paris Saclay.
        </p>
        <small class="no-print">
          Site disponible √†{' '}
          <a href="http://microbesgenotyping.i2bc.paris-saclay.fr/" target="_blank">
            http://microbesgenotyping.i2bc.paris-saclay.fr/
          </a>
        </small>
        <small>Serveur en PHP (Code Igniter) et Client en JS sans framework</small>
      </>
    ),
  },
]

const Icon: FC<{ name: string }> = ({ name }) => <i class="icon material-symbols-outlined">{name}</i>
</script>

<template>
  <div class="page">
    <main>
      <section class="title">
        <h1>
          <span class="name">{{ aboutMe.firstname }}</span> <span class="surname">{{ aboutMe.lastname }}</span>
        </h1>
        <div class="job">{{ aboutMe.job }}</div>
      </section>

      <section class="about-me no-print">
        <h2><Icon name="account_circle" /> Profil</h2>
        <p>{{ aboutMe.description }}</p>
      </section>

      <section class="history">
        <h2><Icon name="work" /> Exp√©riences</h2>
        <article v-for="job of jobs" :key="job.label" class="job">
          <div class="date">{{ job.date }}</div>
          <h3>{{ job.label }}</h3>
          <component :is="job.content" />
        </article>
      </section>
    </main>

    <aside>
      <figure class="mugshot">
        <img src="@/assets/face.jpg" alt="Brendan's Face" />
      </figure>

      <section class="contacts">
        <h2><Icon name="chat_bubble" /> Contact</h2>
        <dl>
          <template v-for="contact of contacts" :key="contact.name">
            <dt class="label">
              <span class="material-symbols-outlined">{{ contact.icon }}</span> {{ contact.name }}
            </dt>
            <dd class="description">
              <a v-if="contact.link" :href="contact.link" target="_blank">{{ contact.value }}</a>
              <template v-else>{{ contact.value }}</template>
            </dd>
          </template>
        </dl>
      </section>

      <section class="education">
        <h2><Icon name="school" /> Dipl√¥me</h2>
        <p class="year">{{ education.year }}</p>
        <h3 class="label">{{ education.name }}</h3>
        <p class="description">{{ education.kind }} - {{ education.description }}</p>
      </section>

      <section class="skills">
        <h2><Icon name="code" /> Comp√©tences</h2>
        <dl>
          <template v-for="skill of skills" :key="skill.name">
            <dt class="label">{{ skill.name }}</dt>
            <dd class="description no-print">{{ skill.description }}</dd>
          </template>
        </dl>
      </section>

      <section class="langs">
        <h2><Icon name="translate" /> Langues</h2>
        <dl>
          <template v-for="lang of languages" :key="lang.name">
            <dt class="label">
              <span class="flag no-print">{{ lang.flag }}</span> {{ lang.name }}
            </dt>
            <dd class="description no-print">{{ lang.description }}</dd>
          </template>
        </dl>
      </section>
    </aside>
  </div>

  <div class="backdrop"></div>
</template>

<style lang="scss">
@use '@material/elevation';
@use '../../assets/variables' as vars;

$color-light: #f2f2f2;
$color-grey: #666666;
$color-dark: #0d0d0d;
$color-red: #d92323;
$color-wine: #732424;
$color-spice: #8c6723;
$color-yellow: #f2e852;
$color-electrik: #1efdfc;

$font-header: 'Quicksand', sans-serif;
$font-body: 'Roboto', sans-serif;

$breakpoint-mobile: 50rem;
$breakpoint-screen: 72rem;

$side-width: 24rem;

%header-with-icon {
  gap: 0.25em;
  display: flex;
  align-items: center;
}

.material-symbols-outlined {
  font-size: 1em;
}

// = Layout ===

.page {
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  max-width: $breakpoint-screen;
  gap: 2rem;
  padding-bottom: 4rem;

  color: $color-dark;
  background: $color-light;

  main,
  aside {
    display: contents;
  }

  section {
    margin: 0 2rem;
  }

  @media (min-width: $breakpoint-mobile), print {
    flex-direction: row-reverse;
    padding-bottom: 0;
    margin: 0 auto;
    gap: 0;

    section {
      margin: 3rem;
    }

    aside {
      display: block;
      width: $side-width;
      color: $color-light;
      background: $color-dark;
    }

    main {
      display: block;
      flex: 1;
      color: $color-dark;
      background: $color-light;

      section {
        margin-right: 5rem;
      }
    }
  }

  @media (min-width: $breakpoint-screen) {
    margin: 3rem auto;
    @include elevation.elevation(15);
  }
}

.backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  background: $color-grey;
}

// = Elements ===

.material-symbols-outlined {
  font-size: 1em;
}

p {
  font-size: 1rem;
}
small {
  font-size: 0.8rem;
}

h2 {
  @extend %header-with-icon;
  font-size: 2rem;
  font-family: $font-header;
  border-bottom: thin solid $color-red;
  margin-bottom: 1rem;

  .icon {
    color: $color-red;
  }

  @media (min-width: $breakpoint-mobile), print {
    main & {
      font-size: 2.5rem;
    }

    aside & {
      color: $color-red;
      border-color: $color-wine;
    }
  }
}

// = Sections ===

.mugshot {
  position: relative;
  z-index: 1;
  display: block;
  width: 18rem;
  height: 18rem;
  margin: 3rem;

  img {
    border-radius: 50%;
    background: $color-grey;
    width: 100%;
    height: 100%;
    display: block;
  }

  &::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    padding: 0.5rem;
    border-radius: 50%;
    border: 0.5rem solid $color-light;
    box-sizing: content-box;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
}

.title {
  .page & {
    margin: 0;
    padding: 2rem;
  }

  background: $color-red;
  color: $color-light;
  text-transform: uppercase;

  h1 {
    line-height: 1;
    font-family: 'Hammersmith One', sans-serif;
    font-size: 3.5rem;
    letter-spacing: -0.1rem;
    line-height: 0.8;
    margin-bottom: 1rem;
  }

  .job {
    font-family: $font-header;
    margin-top: -0.5rem;
    font-size: 1.75rem;
  }

  @media (min-width: $breakpoint-mobile), print {
    .page & {
      margin: 0;
      position: relative;
      margin-left: -$side-width;
      padding: 2rem;
      margin-top: 5rem;
      padding-left: $side-width + 5rem;
    }

    h1 {
      line-height: unset;
      margin-bottom: 0;
    }
  }
}

aside {
  section {
    margin: 3rem;
  }

  .label {
    @extend %header-with-icon;
    font-weight: bold;
    margin-bottom: 0.4rem;
  }

  .description {
    text-align: justify;
    font-size: 0.9rem;
    line-height: 1.5;
    margin-bottom: 1rem;
  }

  a {
    color: $color-yellow;
    text-decoration: none;
    font-weight: bold;

    @media (max-width: $breakpoint-mobile) {
      color: $color-spice;
    }
  }
}

.education {
  .year {
    margin-bottom: 0.25rem;
  }
}

.about-me {
  p {
    text-align: justify;
  }
}

.history {
  .job {
    position: relative;
    margin-bottom: 2rem;
    margin-left: 1rem;
    padding-left: 2rem;

    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0.5rem;
      bottom: -2.5rem;
      border-left: thin solid $color-red;
    }
    &:last-child::before {
      bottom: 0;
    }
  }

  .date::before {
    content: '';
    position: absolute;
    left: -0.5rem;
    top: 0.25rem;
    width: 1rem;
    height: 1rem;
    background: $color-grey;
    border-radius: 50%;
    outline: 0.4rem solid $color-light;
  }

  @media (min-width: $breakpoint-mobile) {
    $date-column: 10rem;

    .job {
      margin-left: $date-column;
    }

    .date {
      position: absolute;
      left: -$date-column;
      width: $date-column;
      padding-right: 2rem;

      &::before {
        right: -0.5rem;
        left: unset;
      }
    }

    .page main & {
      margin-bottom: 6rem;
    }
  }

  .date {
    font-family: $font-header;
    font-weight: 600;
    font-size: 1.2rem;
    color: $color-grey;
    margin-bottom: 0.25rem;
  }

  h3 {
    font-family: $font-header;
    font-weight: 600;
    font-size: 1.2rem;
    color: $color-red;
    margin-bottom: 0.5rem;
  }
  a {
    color: $color-spice;
    text-decoration: none;
    font-weight: bold;
  }
  p {
    font-size: 1rem;
    margin-bottom: 0.5rem;
    text-align: justify;
  }
  li {
    font-size: 1rem;
    margin-left: 2rem;
    margin-bottom: 0.5rem;
    text-align: justify;
    list-style: disc;
  }
  small {
    font-size: 0.8rem;
    color: $color-grey;
    display: block;
  }
}

// = Section Orders ===

@media not print {
  @media (max-width: $breakpoint-mobile) {
    .title {
      order: 1;
    }
    .mugshot {
      display: none;
    }
    .about-me {
      order: 2;
    }
    .contacts {
      order: 3;
    }
    .skills {
      order: 4;
    }
    .langs {
      order: 5;
    }
    .history {
      order: 6;
    }
    .education {
      order: 7;
    }
  }
}

// = Print ===

@page {
  size: A4;
}

@media print {
  html {
    font-size: 9pt;
  }

  .no-print {
    display: none !important;
  }

  .page {
    min-height: 100vh;
    section {
      margin: 2rem;
    }
    aside section {
      margin-left: 4rem;
    }
    main section {
      margin-right: 4rem;
    }
    .history .job {
      margin-bottom: 1.5rem;
    }
  }

  .history a,
  aside a {
    font-weight: normal;
    color: inherit;
  }

  .page main {
    background: white;
  }
  .page aside {
    color: white;
  }
  .title {
    color: white;
  }
  .mugshot::before {
    border-color: white;
  }
  .history .date::before {
    outline-color: white;
  }
}
</style>
